function y(){if($("#map").length){let l=$("#map-provider").val(),n=$("#map-init-lat").val(),m=$("#map-init-lng").val(),o=parseInt($("#map-zoom").val()),p=$("#map-dir").val(),r=$("#map-api-key").val(),s=parseInt($("#map-num-markers").val()),i={className:"custom-map"},c="<img class = 'bg' src='{IMG}' alt='Featured Photo' /><h5 class='title'>{TITLE}</h5>  <p >{DESC}</p> <span class='fas fa-calendar-alt date'> {DATE}</span>";if(l==="google")new GMaps({div:"#map",lat,lng,zoom:o,zoomControl:!0,zoomControlOpt:{style:"SMALL",position:"TOP_LEFT"},streetViewControl:!1,mapTypeControl:!1,gestureHandling:"cooperative"}).addMarker({lat,lng,click:function(){let t="https://www.google.com/maps/place/"+encodeURIComponent(p)+"/@"+lat+","+lng+"/";window.open(t,"_blank")},title:p});else{let a=new L.map("map",{tap:!1}).setView([n,m],o);l==="mapbox"&&r.length?L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xA9 <a href="http://mapbox.com">Mapbox</a>',tileSize:512,maxZoom:18,zoomOffset:-1,id:"mapbox/streets-v11",accessToken:r}).addTo(a):L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(a);let t=L.markerClusterGroup();for(let e=0;e<s;e++){let d=$("#marker"+e+"-lat").val(),g=$("#marker"+e+"-lng").val(),v=$("#marker"+e+"-title").val(),k=$("#marker"+e+"-img").val(),u=$("#marker"+e+"-date").val(),f=$("#marker"+e+"-desc").val()||"",h=c.replace("{TITLE}",v).replace("{IMG}",k).replace("{DESC}",f).replace("{DATE}",u);t.addLayer(L.marker([d,g]).bindPopup(h,i))}a.addLayer(t)}}}document.addEventListener("DOMContentLoaded",function(){y()});
